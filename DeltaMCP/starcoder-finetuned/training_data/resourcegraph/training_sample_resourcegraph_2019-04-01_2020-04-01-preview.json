{
  "input": {
    "oas_diff": {
      "extensions": {
        "modified": {
          "definitions": [
            {
              "oldValue": null,
              "value": {
                "description": "The management group identifier.",
                "type": "string"
              },
              "op": "add",
              "from": "",
              "path": "/QueryRequest/properties/managementGroupId"
            },
            {
              "oldValue": "query",
              "value": null,
              "op": "remove",
              "from": "",
              "path": "/QueryRequest/required/1"
            },
            {
              "oldValue": "subscriptions",
              "value": "query",
              "op": "replace",
              "from": "",
              "path": "/QueryRequest/required/0"
            }
          ],
          "parameters": [
            {
              "oldValue": "API version.",
              "value": "Api Version.",
              "op": "replace",
              "from": "",
              "path": "/ApiVersionParameter/description"
            }
          ]
        }
      },
      "info": {
        "version": {
          "from": "2019-04-01",
          "to": "2020-04-01-preview"
        }
      },
      "paths": {
        "modified": {
          "/providers/Microsoft.ResourceGraph/operations": {
            "operations": {
              "modified": {
                "GET": {
                  "extensions": {
                    "modified": {
                      "x-ms-examples": [
                        {
                          "oldValue": "2019-04-01",
                          "value": "2020-04-01-preview",
                          "op": "replace",
                          "from": "",
                          "path": "/OperationsList/parameters/api-version"
                        },
                        {
                          "oldValue": "Submits a query on resources within specified subscriptions",
                          "value": "Submits a query on resources within specified subscriptions, the specified management group, or against all access granted in the tenant.",
                          "op": "replace",
                          "from": "",
                          "path": "/OperationsList/responses/200/body/value/1/display/description"
                        },
                        {
                          "oldValue": null,
                          "value": {
                            "display": {
                              "description": "Lists changes to a resource for a given time interval",
                              "operation": "Query resource changes",
                              "provider": "Microsoft Resource Graph",
                              "resource": "Resource Changes"
                            },
                            "name": "Microsoft.ResourceGraph/resourceChanges/read"
                          },
                          "op": "add",
                          "from": "",
                          "path": "/OperationsList/responses/200/body/value/-"
                        },
                        {
                          "oldValue": null,
                          "value": {
                            "display": {
                              "description": "Gets the details of the specified resource change",
                              "operation": "Query resource change details",
                              "provider": "Microsoft Resource Graph",
                              "resource": "Resource Change Details"
                            },
                            "name": "Microsoft.ResourceGraph/resourceChangeDetails/read"
                          },
                          "op": "add",
                          "from": "",
                          "path": "/OperationsList/responses/200/body/value/-"
                        },
                        {
                          "oldValue": null,
                          "value": {
                            "display": {
                              "description": "Gets the specified graph query",
                              "operation": "Read resource graph queries",
                              "provider": "Microsoft Resource Graph",
                              "resource": "Resource Graph Queries"
                            },
                            "name": "Microsoft.ResourceGraph/queries/read"
                          },
                          "op": "add",
                          "from": "",
                          "path": "/OperationsList/responses/200/body/value/-"
                        },
                        {
                          "oldValue": null,
                          "value": {
                            "display": {
                              "description": "Deletes the specified graph query",
                              "operation": "Delete resource graph queries",
                              "provider": "Microsoft Resource Graph",
                              "resource": "Resource Graph Queries"
                            },
                            "name": "Microsoft.ResourceGraph/queries/delete"
                          },
                          "op": "add",
                          "from": "",
                          "path": "/OperationsList/responses/200/body/value/-"
                        },
                        {
                          "oldValue": null,
                          "value": {
                            "display": {
                              "description": "Creates/Updates the specified graph query",
                              "operation": "Create/Update resource graph queries",
                              "provider": "Microsoft Resource Graph",
                              "resource": "Resource Graph Queries"
                            },
                            "name": "Microsoft.ResourceGraph/queries/write"
                          },
                          "op": "add",
                          "from": "",
                          "path": "/OperationsList/responses/200/body/value/-"
                        }
                      ]
                    }
                  },
                  "parameters": {
                    "modified": {
                      "query": {
                        "api-version": {
                          "description": {
                            "from": "API version.",
                            "to": "Api Version."
                          }
                        }
                      }
                    }
                  },
                  "responses": {
                    "added": [
                      "default"
                    ]
                  }
                }
              }
            }
          },
          "/providers/Microsoft.ResourceGraph/resources": {
            "operations": {
              "modified": {
                "POST": {
                  "extensions": {
                    "modified": {
                      "x-ms-examples": [
                        {
                          "oldValue": "2019-04-01",
                          "value": "2020-04-01-preview",
                          "op": "replace",
                          "from": "",
                          "path": "/Access a properties field/parameters/api-version"
                        },
                        {
                          "oldValue": "where type =~ 'Microsoft.Compute/virtualMachines' | summarize count() by tostring(properties.storageProfile.osDisk.osType)",
                          "value": "Resources | where type =~ 'Microsoft.Compute/virtualMachines' | summarize count() by tostring(properties.storageProfile.osDisk.osType)",
                          "op": "replace",
                          "from": "",
                          "path": "/Access a properties field/parameters/query/query"
                        },
                        {
                          "oldValue": null,
                          "value": [],
                          "op": "add",
                          "from": "",
                          "path": "/Access a properties field/responses/200/body/facets"
                        },
                        {
                          "oldValue": {
                            "description": "A query accessing one of the resource properties through [alias](https://docs.microsoft.com/en-us/azure/azure-policy/policy-definition#aliases).",
                            "parameters": {
                              "api-version": "2019-04-01",
                              "query": {
                                "query": "where type =~ 'Microsoft.Web/serverFarms' | extend skuName = tostring(aliases['Microsoft.Web/serverfarms/sku.name']) | summarize count() by skuName",
                                "subscriptions": [
                                  "cfbbd179-59d2-4052-aa06-9270a38aa9d6"
                                ]
                              }
                            },
                            "responses": {
                              "200": {
                                "body": {
                                  "count": 3,
                                  "data": {
                                    "columns": [
                                      {
                                        "name": "skuName",
                                        "type": "string"
                                      },
                                      {
                                        "name": "count_",
                                        "type": "integer"
                                      }
                                    ],
                                    "rows": [
                                      [
                                        "S2",
                                        1
                                      ],
                                      [
                                        "Y1",
                                        3
                                      ],
                                      [
                                        "S1",
                                        1
                                      ]
                                    ]
                                  },
                                  "resultTruncated": "false",
                                  "totalRecords": 3
                                }
                              }
                            },
                            "title": "Alias Query"
                          },
                          "value": null,
                          "op": "remove",
                          "from": "",
                          "path": "/Access a properties field through alias"
                        },
                        {
                          "oldValue": null,
                          "value": {
                            "description": "A simple management group scoped resources query.",
                            "parameters": {
                              "api-version": "2020-04-01-preview",
                              "query": {
                                "managementGroupId": "e927f598-c1d4-4f72-8541-95d83a6a4ac8",
                                "query": "Resources | project id, name, type, location, tags | limit 3"
                              }
                            },
                            "responses": {
                              "200": {
                                "body": {
                                  "count": 3,
                                  "data": {
                                    "columns": [
                                      {
                                        "name": "id",
                                        "type": "string"
                                      },
                                      {
                                        "name": "name",
                                        "type": "string"
                                      },
                                      {
                                        "name": "type",
                                        "type": "string"
                                      },
                                      {
                                        "name": "location",
                                        "type": "string"
                                      },
                                      {
                                        "name": "tags",
                                        "type": "object"
                                      }
                                    ],
                                    "rows": [
                                      [
                                        "/subscriptions/cfbbd179-59d2-4052-aa06-9270a38aa9d6/resourceGroups/RG1/providers/Microsoft.Network/networkInterfaces/myNetworkInterface",
                                        "myNetworkInterface",
                                        "microsoft.network/networkinterfaces",
                                        "centralus",
                                        {
                                          "tag1": "Value1"
                                        }
                                      ],
                                      [
                                        "/subscriptions/cfbbd179-59d2-4052-aa06-9270a38aa9d6/resourceGroups/RG2/providers/Microsoft.Network/virtualNetworks/myVnet",
                                        "myVnet",
                                        "microsoft.network/virtualnetworks",
                                        "westus",
                                        {}
                                      ],
                                      [
                                        "/subscriptions/cfbbd179-59d2-4052-aa06-9270a38aa9d6/resourceGroups/RG2/providers/Microsoft.Network/publicIPAddresses/myPublicIp",
                                        "myPublicIp",
                                        "microsoft.network/publicipaddresses",
                                        "westus",
                                        {}
                                      ]
                                    ]
                                  },
                                  "facets": [],
                                  "resultTruncated": "false",
                                  "totalRecords": 3
                                }
                              }
                            },
                            "title": "Basic Query"
                          },
                          "op": "add",
                          "from": "",
                          "path": "/Basic management group query"
                        },
                        {
                          "oldValue": "2019-04-01",
                          "value": "2020-04-01-preview",
                          "op": "replace",
                          "from": "",
                          "path": "/Basic query/parameters/api-version"
                        },
                        {
                          "oldValue": "project id, name, type, location, tags | limit 3",
                          "value": "Resources | project id, name, type, location, tags | limit 3",
                          "op": "replace",
                          "from": "",
                          "path": "/Basic query/parameters/query/query"
                        },
                        {
                          "oldValue": null,
                          "value": [],
                          "op": "add",
                          "from": "",
                          "path": "/Basic query/responses/200/body/facets"
                        },
                        {
                          "oldValue": null,
                          "value": {
                            "description": "A simple tenant scoped resources query.",
                            "parameters": {
                              "api-version": "2020-04-01-preview",
                              "query": {
                                "query": "Resources | project id, name, type, location, tags | limit 3"
                              }
                            },
                            "responses": {
                              "200": {
                                "body": {
                                  "count": 3,
                                  "data": {
                                    "columns": [
                                      {
                                        "name": "id",
                                        "type": "string"
                                      },
                                      {
                                        "name": "name",
                                        "type": "string"
                                      },
                                      {
                                        "name": "type",
                                        "type": "string"
                                      },
                                      {
                                        "name": "location",
                                        "type": "string"
                                      },
                                      {
                                        "name": "tags",
                                        "type": "object"
                                      }
                                    ],
                                    "rows": [
                                      [
                                        "/subscriptions/cfbbd179-59d2-4052-aa06-9270a38aa9d6/resourceGroups/RG1/providers/Microsoft.Network/networkInterfaces/myNetworkInterface",
                                        "myNetworkInterface",
                                        "microsoft.network/networkinterfaces",
                                        "centralus",
                                        {
                                          "tag1": "Value1"
                                        }
                                      ],
                                      [
                                        "/subscriptions/cfbbd179-59d2-4052-aa06-9270a38aa9d6/resourceGroups/RG2/providers/Microsoft.Network/virtualNetworks/myVnet",
                                        "myVnet",
                                        "microsoft.network/virtualnetworks",
                                        "westus",
                                        {}
                                      ],
                                      [
                                        "/subscriptions/cfbbd179-59d2-4052-aa06-9270a38aa9d6/resourceGroups/RG2/providers/Microsoft.Network/publicIPAddresses/myPublicIp",
                                        "myPublicIp",
                                        "microsoft.network/publicipaddresses",
                                        "westus",
                                        {}
                                      ]
                                    ]
                                  },
                                  "facets": [],
                                  "resultTruncated": "false",
                                  "totalRecords": 3
                                }
                              }
                            },
                            "title": "Basic Query"
                          },
                          "op": "add",
                          "from": "",
                          "path": "/Basic tenant query"
                        },
                        {
                          "oldValue": "2019-04-01",
                          "value": "2020-04-01-preview",
                          "op": "replace",
                          "from": "",
                          "path": "/Complex query/parameters/api-version"
                        },
                        {
                          "oldValue": "project id, name, type, location | where type =~ 'Microsoft.Compute/virtualMachines' | summarize count() by location | top 3 by count_",
                          "value": "Resources | project id, name, type, location | where type =~ 'Microsoft.Compute/virtualMachines' | summarize count() by location | top 3 by count_",
                          "op": "replace",
                          "from": "",
                          "path": "/Complex query/parameters/query/query"
                        },
                        {
                          "oldValue": null,
                          "value": [],
                          "op": "add",
                          "from": "",
                          "path": "/Complex query/responses/200/body/facets"
                        },
                        {
                          "oldValue": "2019-04-01",
                          "value": "2020-04-01-preview",
                          "op": "replace",
                          "from": "",
                          "path": "/Filter resources/parameters/api-version"
                        },
                        {
                          "oldValue": "project id, name, type, location | where type =~ 'Microsoft.Compute/virtualMachines' | limit 3",
                          "value": "Resources | project id, name, type, location | where type =~ 'Microsoft.Compute/virtualMachines' | limit 3",
                          "op": "replace",
                          "from": "",
                          "path": "/Filter resources/parameters/query/query"
                        },
                        {
                          "oldValue": null,
                          "value": [],
                          "op": "add",
                          "from": "",
                          "path": "/Filter resources/responses/200/body/facets"
                        },
                        {
                          "oldValue": "2019-04-01",
                          "value": "2020-04-01-preview",
                          "op": "replace",
                          "from": "",
                          "path": "/First page query/parameters/api-version"
                        },
                        {
                          "oldValue": "where name contains 'test' | project id, name, type, location",
                          "value": "Resources | where name contains 'test' | project id, name, type, location",
                          "op": "replace",
                          "from": "",
                          "path": "/First page query/parameters/query/query"
                        },
                        {
                          "oldValue": null,
                          "value": [],
                          "op": "add",
                          "from": "",
                          "path": "/First page query/responses/200/body/facets"
                        },
                        {
                          "oldValue": "2019-04-01",
                          "value": "2020-04-01-preview",
                          "op": "replace",
                          "from": "",
                          "path": "/Next page query/parameters/api-version"
                        },
                        {
                          "oldValue": "where name contains 'test' | project id, name, type, location",
                          "value": "Resources | where name contains 'test' | project id, name, type, location",
                          "op": "replace",
                          "from": "",
                          "path": "/Next page query/parameters/query/query"
                        },
                        {
                          "oldValue": null,
                          "value": [],
                          "op": "add",
                          "from": "",
                          "path": "/Next page query/responses/200/body/facets"
                        },
                        {
                          "oldValue": {
                            "description": "A query on resources specifying paging and max rows through query options",
                            "parameters": {
                              "api-version": "2019-04-01",
                              "query": {
                                "options": {
                                  "$skip": 10,
                                  "$top": 3
                                },
                                "query": "where name contains 'test' | project id, name, type, location",
                                "subscriptions": [
                                  "cfbbd179-59d2-4052-aa06-9270a38aa9d6"
                                ]
                              }
                            },
                            "responses": {
                              "200": {
                                "body": {
                                  "$skipToken": "eyAibm8yIjogImx1Y2syIiwgImJ1dDIiOiAibmljZTIiLCAidHJ5MiI6ICIhIiB9",
                                  "count": 3,
                                  "data": {
                                    "columns": [
                                      {
                                        "name": "id",
                                        "type": "string"
                                      },
                                      {
                                        "name": "name",
                                        "type": "string"
                                      },
                                      {
                                        "name": "type",
                                        "type": "string"
                                      },
                                      {
                                        "name": "location",
                                        "type": "string"
                                      }
                                    ],
                                    "rows": [
                                      [
                                        "/subscriptions/cfbbd179-59d2-4052-aa06-9270a38aa9d6/resourceGroups/RG4/providers/Microsoft.Compute/disks/yetanothertest_OsDisk_1_f396cbcb625a457bb69fe2abf5975820",
                                        "yetanothertest_OsDisk_1_f396cbcb625a457bb69fe2abf5975820",
                                        "microsoft.compute/disks",
                                        "eastus"
                                      ],
                                      [
                                        "/subscriptions/cfbbd179-59d2-4052-aa06-9270a38aa9d6/resourceGroups/RG5/providers/Microsoft.Automation/automationAccounts/TestAA",
                                        "TestAA",
                                        "microsoft.automation/automationaccounts",
                                        "westcentralus"
                                      ],
                                      [
                                        "/subscriptions/cfbbd179-59d2-4052-aa06-9270a38aa9d6/resourceGroups/RG5/providers/Microsoft.Automation/automationAccounts/TestAA/runbooks/TestRB",
                                        "TestRB",
                                        "microsoft.automation/automationaccounts/runbooks",
                                        "westcentralus"
                                      ]
                                    ]
                                  },
                                  "resultTruncated": "false",
                                  "totalRecords": 386
                                }
                              }
                            },
                            "title": "Query options"
                          },
                          "value": null,
                          "op": "remove",
                          "from": "",
                          "path": "/Query options"
                        },
                        {
                          "oldValue": "2019-04-01",
                          "value": "2020-04-01-preview",
                          "op": "replace",
                          "from": "",
                          "path": "/Query with a facet request/parameters/api-version"
                        },
                        {
                          "oldValue": "where type =~ 'Microsoft.Compute/virtualMachines' | project id, name, location, resourceGroup, properties.storageProfile.osDisk.osType | limit 5",
                          "value": "Resources | where type =~ 'Microsoft.Compute/virtualMachines' | project id, name, location, resourceGroup, properties.storageProfile.osDisk.osType | limit 5",
                          "op": "replace",
                          "from": "",
                          "path": "/Query with a facet request/parameters/query/query"
                        },
                        {
                          "oldValue": "A query on resources requesting the random page using skip token, top and skip overrides",
                          "value": "A query on resources specifying paging and max rows through query options",
                          "op": "replace",
                          "from": "",
                          "path": "/Random page query/description"
                        },
                        {
                          "oldValue": "2019-04-01",
                          "value": "2020-04-01-preview",
                          "op": "replace",
                          "from": "",
                          "path": "/Random page query/parameters/api-version"
                        },
                        {
                          "oldValue": "eyAibm8iOiAibHVjayIsICJidXQiOiAibmljZSIsICJ0cnkiOiAiISIgfQ==",
                          "value": null,
                          "op": "remove",
                          "from": "",
                          "path": "/Random page query/parameters/query/options/$skipToken"
                        },
                        {
                          "oldValue": "where name contains 'test' | project id, name, type, location",
                          "value": "Resources | where name contains 'test' | project id, name, type, location",
                          "op": "replace",
                          "from": "",
                          "path": "/Random page query/parameters/query/query"
                        },
                        {
                          "oldValue": "eyAibm8yIjogImx1Y2syIiwgImJ1dDIiOiAibmljZTIiLCAidHJ5MiI6ICIhIiB9",
                          "value": "eyAibm8iOiAibHVjayIsICJidXQiOiAibmljZSIsICJ0cnkiOiAiISIgfQ==",
                          "op": "replace",
                          "from": "",
                          "path": "/Random page query/responses/200/body/$skipToken"
                        },
                        {
                          "oldValue": null,
                          "value": [],
                          "op": "add",
                          "from": "",
                          "path": "/Random page query/responses/200/body/facets"
                        },
                        {
                          "oldValue": "2019-04-01",
                          "value": "2020-04-01-preview",
                          "op": "replace",
                          "from": "",
                          "path": "/Summarize resources by location/parameters/api-version"
                        },
                        {
                          "oldValue": "project id, name, type, location | summarize by location",
                          "value": "Resources | project id, name, type, location | summarize by location",
                          "op": "replace",
                          "from": "",
                          "path": "/Summarize resources by location/parameters/query/query"
                        },
                        {
                          "oldValue": null,
                          "value": [],
                          "op": "add",
                          "from": "",
                          "path": "/Summarize resources by location/responses/200/body/facets"
                        }
                      ]
                    }
                  },
                  "parameters": {
                    "modified": {
                      "body": {
                        "query": {
                          "schema": {
                            "required": {
                              "deleted": [
                                "subscriptions"
                              ]
                            },
                            "properties": {
                              "added": [
                                "managementGroupId"
                              ]
                            }
                          }
                        }
                      },
                      "query": {
                        "api-version": {
                          "description": {
                            "from": "API version.",
                            "to": "Api Version."
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "stub_ast_a": {
      "type": "Module",
      "body": [
        {
          "type": "Import",
          "names": [
            {
              "type": "alias",
              "name": "os",
              "asname": null
            }
          ]
        },
        {
          "type": "Import",
          "names": [
            {
              "type": "alias",
              "name": "base64",
              "asname": null
            }
          ]
        },
        {
          "type": "Import",
          "names": [
            {
              "type": "alias",
              "name": "requests",
              "asname": null
            }
          ]
        },
        {
          "type": "ImportFrom",
          "module": "flask",
          "names": [
            {
              "type": "alias",
              "name": "Flask",
              "asname": null
            },
            {
              "type": "alias",
              "name": "request",
              "asname": null
            },
            {
              "type": "alias",
              "name": "redirect",
              "asname": null
            },
            {
              "type": "alias",
              "name": "session",
              "asname": null
            }
          ],
          "level": 0
        },
        {
          "type": "ImportFrom",
          "module": "dotenv",
          "names": [
            {
              "type": "alias",
              "name": "load_dotenv",
              "asname": null
            }
          ],
          "level": 0
        },
        {
          "type": "Import",
          "names": [
            {
              "type": "alias",
              "name": "secrets",
              "asname": null
            }
          ]
        },
        {
          "type": "Import",
          "names": [
            {
              "type": "alias",
              "name": "hashlib",
              "asname": null
            }
          ]
        },
        {
          "type": "Import",
          "names": [
            {
              "type": "alias",
              "name": "base64",
              "asname": "b64"
            }
          ]
        },
        {
          "type": "Expr",
          "value": {
            "type": "Call",
            "func": {
              "type": "Name",
              "id": "load_dotenv",
              "ctx": {
                "type": "Load"
              }
            },
            "args": [],
            "keywords": []
          }
        },
        {
          "type": "Assign",
          "targets": [
            {
              "type": "Name",
              "id": "app",
              "ctx": {
                "type": "Store"
              }
            }
          ],
          "value": {
            "type": "Call",
            "func": {
              "type": "Name",
              "id": "Flask",
              "ctx": {
                "type": "Load"
              }
            },
            "args": [
              {
                "type": "Name",
                "id": "__name__",
                "ctx": {
                  "type": "Load"
                }
              }
            ],
            "keywords": []
          },
          "type_comment": null
        },
        {
          "type": "Assign",
          "targets": [
            {
              "type": "Attribute",
              "value": {
                "type": "Name",
                "id": "app",
                "ctx": {
                  "type": "Load"
                }
              },
              "attr": "secret_key",
              "ctx": {
                "type": "Store"
              }
            }
          ],
          "value": {
            "type": "Call",
            "func": {
              "type": "Attribute",
              "value": {
                "type": "Name",
                "id": "os",
                "ctx": {
                  "type": "Load"
                }
              },
              "attr": "getenv",
              "ctx": {
                "type": "Load"
              }
            },
            "args": [
              {
                "type": "Constant",
                "value": "OAUTH2_SECRET_KEY",
                "kind": null
              },
              {
                "type": "Call",
                "func": {
                  "type": "Attribute",
                  "value": {
                    "type": "Name",
                    "id": "secrets",
                    "ctx": {
                      "type": "Load"
                    }
                  },
                  "attr": "token_hex",
                  "ctx": {
                    "type": "Load"
                  }
                },
                "args": [
                  {
                    "type": "Constant",
                    "value": 16,
                    "kind": null
                  }
                ],
                "keywords": []
              }
            ],
            "keywords": []
          },
          "type_comment": null
        },
        {
          "type": "Expr",
          "value": {
            "type": "Call",
            "func": {
              "type": "Name",
              "id": "print",
              "ctx": {
                "type": "Load"
              }
            },
            "args": [
              {
                "type": "Constant",
                "value": "[OAUTH LOGIN SERVER] Flask OAuth2 login server running.",
                "kind": null
              }
            ],
            "keywords": []
          }
        },
        {
          "type": "If",
          "test": {
            "type": "Compare",
            "left": {
              "type": "Name",
              "id": "__name__",
              "ctx": {
                "type": "Load"
              }
            },
            "ops": [
              {
                "type": "Eq"
              }
            ],
            "comparators": [
              {
                "type": "Constant",
                "value": "__main__",
                "kind": null
              }
            ]
          },
          "body": [
            {
              "type": "Expr",
              "value": {
                "type": "Call",
                "func": {
                  "type": "Attribute",
                  "value": {
                    "type": "Name",
                    "id": "app",
                    "ctx": {
                      "type": "Load"
                    }
                  },
                  "attr": "run",
                  "ctx": {
                    "type": "Load"
                  }
                },
                "args": [],
                "keywords": [
                  {
                    "type": "keyword",
                    "arg": "debug",
                    "value": {
                      "type": "Constant",
                      "value": true,
                      "kind": null
                    }
                  },
                  {
                    "type": "keyword",
                    "arg": "port",
                    "value": {
                      "type": "Constant",
                      "value": 8888,
                      "kind": null
                    }
                  }
                ]
              }
            }
          ],
          "orelse": []
        }
      ],
      "type_ignores": []
    }
  },
  "output": {
    "stub_ast_b": {
      "type": "Module",
      "body": [
        {
          "type": "Import",
          "names": [
            {
              "type": "alias",
              "name": "os",
              "asname": null
            }
          ]
        },
        {
          "type": "Import",
          "names": [
            {
              "type": "alias",
              "name": "json",
              "asname": null
            }
          ]
        },
        {
          "type": "ImportFrom",
          "module": "typing",
          "names": [
            {
              "type": "alias",
              "name": "Optional",
              "asname": null
            },
            {
              "type": "alias",
              "name": "Union",
              "asname": null
            },
            {
              "type": "alias",
              "name": "Any",
              "asname": null
            }
          ],
          "level": 0
        },
        {
          "type": "ImportFrom",
          "module": "dotenv",
          "names": [
            {
              "type": "alias",
              "name": "load_dotenv",
              "asname": null
            }
          ],
          "level": 0
        },
        {
          "type": "Expr",
          "value": {
            "type": "Call",
            "func": {
              "type": "Name",
              "id": "load_dotenv",
              "ctx": {
                "type": "Load"
              }
            },
            "args": [],
            "keywords": []
          }
        },
        {
          "type": "ImportFrom",
          "module": "fastmcp",
          "names": [
            {
              "type": "alias",
              "name": "FastMCP",
              "asname": null
            }
          ],
          "level": 0
        },
        {
          "type": "Import",
          "names": [
            {
              "type": "alias",
              "name": "requests",
              "asname": null
            }
          ]
        },
        {
          "type": "Expr",
          "value": {
            "type": "Call",
            "func": {
              "type": "Name",
              "id": "print",
              "ctx": {
                "type": "Load"
              }
            },
            "args": [
              {
                "type": "Constant",
                "value": "[MCP SERVER] FastMCP server running.",
                "kind": null
              }
            ],
            "keywords": []
          }
        },
        {
          "type": "If",
          "test": {
            "type": "Compare",
            "left": {
              "type": "Name",
              "id": "__name__",
              "ctx": {
                "type": "Load"
              }
            },
            "ops": [
              {
                "type": "Eq"
              }
            ],
            "comparators": [
              {
                "type": "Constant",
                "value": "__main__",
                "kind": null
              }
            ]
          },
          "body": [
            {
              "type": "Assign",
              "targets": [
                {
                  "type": "Name",
                  "id": "mcp",
                  "ctx": {
                    "type": "Store"
                  }
                }
              ],
              "value": {
                "type": "Call",
                "func": {
                  "type": "Name",
                  "id": "FastMCP",
                  "ctx": {
                    "type": "Load"
                  }
                },
                "args": [
                  {
                    "type": "Constant",
                    "value": "my-server",
                    "kind": null
                  }
                ],
                "keywords": []
              },
              "type_comment": null
            },
            {
              "type": "FunctionDef",
              "name": "Resources",
              "args": {
                "type": "arguments",
                "posonlyargs": [],
                "args": [
                  {
                    "type": "arg",
                    "arg": "api_version",
                    "annotation": {
                      "type": "Subscript",
                      "value": {
                        "type": "Name",
                        "id": "Optional",
                        "ctx": {
                          "type": "Load"
                        }
                      },
                      "slice": {
                        "type": "Name",
                        "id": "str",
                        "ctx": {
                          "type": "Load"
                        }
                      },
                      "ctx": {
                        "type": "Load"
                      }
                    },
                    "type_comment": null
                  }
                ],
                "vararg": null,
                "kwonlyargs": [],
                "kw_defaults": [],
                "kwarg": null,
                "defaults": [
                  {
                    "type": "Constant",
                    "value": null,
                    "kind": null
                  }
                ]
              },
              "body": [
                {
                  "type": "Expr",
                  "value": {
                    "type": "Constant",
                    "value": "Queries the resources managed by Azure Resource Manager for all subscriptions specified in the request.",
                    "kind": null
                  }
                },
                {
                  "type": "Assign",
                  "targets": [
                    {
                      "type": "Name",
                      "id": "base_url",
                      "ctx": {
                        "type": "Store"
                      }
                    }
                  ],
                  "value": {
                    "type": "Constant",
                    "value": "https://management.azure.com",
                    "kind": null
                  },
                  "type_comment": null
                },
                {
                  "type": "Assign",
                  "targets": [
                    {
                      "type": "Name",
                      "id": "url",
                      "ctx": {
                        "type": "Store"
                      }
                    }
                  ],
                  "value": {
                    "type": "JoinedStr",
                    "values": [
                      {
                        "type": "FormattedValue",
                        "value": {
                          "type": "Name",
                          "id": "base_url",
                          "ctx": {
                            "type": "Load"
                          }
                        },
                        "conversion": -1,
                        "format_spec": null
                      },
                      {
                        "type": "Constant",
                        "value": "/providers/Microsoft.ResourceGraph/resources",
                        "kind": null
                      }
                    ]
                  },
                  "type_comment": null
                },
                {
                  "type": "Assign",
                  "targets": [
                    {
                      "type": "Name",
                      "id": "params",
                      "ctx": {
                        "type": "Store"
                      }
                    }
                  ],
                  "value": {
                    "type": "Dict",
                    "keys": [],
                    "values": []
                  },
                  "type_comment": null
                },
                {
                  "type": "Assign",
                  "targets": [
                    {
                      "type": "Name",
                      "id": "headers",
                      "ctx": {
                        "type": "Store"
                      }
                    }
                  ],
                  "value": {
                    "type": "Dict",
                    "keys": [],
                    "values": []
                  },
                  "type_comment": null
                },
                {
                  "type": "Assign",
                  "targets": [
                    {
                      "type": "Name",
                      "id": "cookies",
                      "ctx": {
                        "type": "Store"
                      }
                    }
                  ],
                  "value": {
                    "type": "Dict",
                    "keys": [],
                    "values": []
                  },
                  "type_comment": null
                },
                {
                  "type": "Assign",
                  "targets": [
                    {
                      "type": "Name",
                      "id": "extra_headers",
                      "ctx": {
                        "type": "Store"
                      }
                    }
                  ],
                  "value": {
                    "type": "Call",
                    "func": {
                      "type": "Attribute",
                      "value": {
                        "type": "Name",
                        "id": "os",
                        "ctx": {
                          "type": "Load"
                        }
                      },
                      "attr": "getenv",
                      "ctx": {
                        "type": "Load"
                      }
                    },
                    "args": [
                      {
                        "type": "Constant",
                        "value": "EXTRA_HEADERS",
                        "kind": null
                      }
                    ],
                    "keywords": []
                  },
                  "type_comment": null
                },
                {
                  "type": "If",
                  "test": {
                    "type": "Name",
                    "id": "extra_headers",
                    "ctx": {
                      "type": "Load"
                    }
                  },
                  "body": [
                    {
                      "type": "Try",
                      "body": [
                        {
                          "type": "For",
                          "target": {
                            "type": "Tuple",
                            "elts": [
                              {
                                "type": "Name",
                                "id": "k",
                                "ctx": {
                                  "type": "Store"
                                }
                              },
                              {
                                "type": "Name",
                                "id": "v",
                                "ctx": {
                                  "type": "Store"
                                }
                              }
                            ],
                            "ctx": {
                              "type": "Store"
                            }
                          },
                          "iter": {
                            "type": "Call",
                            "func": {
                              "type": "Attribute",
                              "value": {
                                "type": "Call",
                                "func": {
                                  "type": "Attribute",
                                  "value": {
                                    "type": "Name",
                                    "id": "json",
                                    "ctx": {
                                      "type": "Load"
                                    }
                                  },
                                  "attr": "loads",
                                  "ctx": {
                                    "type": "Load"
                                  }
                                },
                                "args": [
                                  {
                                    "type": "Name",
                                    "id": "extra_headers",
                                    "ctx": {
                                      "type": "Load"
                                    }
                                  }
                                ],
                                "keywords": []
                              },
                              "attr": "items",
                              "ctx": {
                                "type": "Load"
                              }
                            },
                            "args": [],
                            "keywords": []
                          },
                          "body": [
                            {
                              "type": "Assign",
                              "targets": [
                                {
                                  "type": "Subscript",
                                  "value": {
                                    "type": "Name",
                                    "id": "headers",
                                    "ctx": {
                                      "type": "Load"
                                    }
                                  },
                                  "slice": {
                                    "type": "Name",
                                    "id": "k",
                                    "ctx": {
                                      "type": "Load"
                                    }
                                  },
                                  "ctx": {
                                    "type": "Store"
                                  }
                                }
                              ],
                              "value": {
                                "type": "Name",
                                "id": "v",
                                "ctx": {
                                  "type": "Load"
                                }
                              },
                              "type_comment": null
                            }
                          ],
                          "orelse": [],
                          "type_comment": null
                        }
                      ],
                      "handlers": [
                        {
                          "type": {
                            "type": "Name",
                            "id": "Exception",
                            "ctx": {
                              "type": "Load"
                            }
                          },
                          "name": "e",
                          "body": [
                            {
                              "type": "Expr",
                              "value": {
                                "type": "Call",
                                "func": {
                                  "type": "Name",
                                  "id": "print",
                                  "ctx": {
                                    "type": "Load"
                                  }
                                },
                                "args": [
                                  {
                                    "type": "Constant",
                                    "value": "Failed to parse EXTRA_HEADERS:",
                                    "kind": null
                                  },
                                  {
                                    "type": "Name",
                                    "id": "e",
                                    "ctx": {
                                      "type": "Load"
                                    }
                                  }
                                ],
                                "keywords": []
                              }
                            }
                          ]
                        }
                      ],
                      "orelse": [],
                      "finalbody": []
                    }
                  ],
                  "orelse": []
                },
                {
                  "type": "Assign",
                  "targets": [
                    {
                      "type": "Name",
                      "id": "auth_satisfied",
                      "ctx": {
                        "type": "Store"
                      }
                    }
                  ],
                  "value": {
                    "type": "Constant",
                    "value": false,
                    "kind": null
                  },
                  "type_comment": null
                },
                {
                  "type": "Assign",
                  "targets": [
                    {
                      "type": "Name",
                      "id": "auth_error_msgs",
                      "ctx": {
                        "type": "Store"
                      }
                    }
                  ],
                  "value": {
                    "type": "List",
                    "elts": [],
                    "ctx": {
                      "type": "Load"
                    }
                  },
                  "type_comment": null
                },
                {
                  "type": "If",
                  "test": {
                    "type": "UnaryOp",
                    "op": {
                      "type": "Not"
                    },
                    "operand": {
                      "type": "Name",
                      "id": "auth_satisfied",
                      "ctx": {
                        "type": "Load"
                      }
                    }
                  },
                  "body": [
                    {
                      "type": "Try",
                      "body": [
                        {
                          "type": "Assign",
                          "targets": [
                            {
                              "type": "Name",
                              "id": "access_token",
                              "ctx": {
                                "type": "Store"
                              }
                            }
                          ],
                          "value": {
                            "type": "Call",
                            "func": {
                              "type": "Attribute",
                              "value": {
                                "type": "Name",
                                "id": "os",
                                "ctx": {
                                  "type": "Load"
                                }
                              },
                              "attr": "getenv",
                              "ctx": {
                                "type": "Load"
                              }
                            },
                            "args": [
                              {
                                "type": "Constant",
                                "value": "AZURE_AUTH_AUTHORIZATIONCODE_ACCESS_TOKEN",
                                "kind": null
                              }
                            ],
                            "keywords": []
                          },
                          "type_comment": null
                        },
                        {
                          "type": "If",
                          "test": {
                            "type": "UnaryOp",
                            "op": {
                              "type": "Not"
                            },
                            "operand": {
                              "type": "Name",
                              "id": "access_token",
                              "ctx": {
                                "type": "Load"
                              }
                            }
                          },
                          "body": [
                            {
                              "type": "Raise",
                              "exc": {
                                "type": "Call",
                                "func": {
                                  "type": "Name",
                                  "id": "ValueError",
                                  "ctx": {
                                    "type": "Load"
                                  }
                                },
                                "args": [
                                  {
                                    "type": "Constant",
                                    "value": "Missing OAuth2 access token in .env: AZURE_AUTH_AUTHORIZATIONCODE_ACCESS_TOKEN",
                                    "kind": null
                                  }
                                ],
                                "keywords": []
                              },
                              "cause": null
                            }
                          ],
                          "orelse": []
                        },
                        {
                          "type": "Assign",
                          "targets": [
                            {
                              "type": "Subscript",
                              "value": {
                                "type": "Name",
                                "id": "headers",
                                "ctx": {
                                  "type": "Load"
                                }
                              },
                              "slice": {
                                "type": "Constant",
                                "value": "Authorization",
                                "kind": null
                              },
                              "ctx": {
                                "type": "Store"
                              }
                            }
                          ],
                          "value": {
                            "type": "JoinedStr",
                            "values": [
                              {
                                "type": "Constant",
                                "value": "Bearer ",
                                "kind": null
                              },
                              {
                                "type": "FormattedValue",
                                "value": {
                                  "type": "Name",
                                  "id": "access_token",
                                  "ctx": {
                                    "type": "Load"
                                  }
                                },
                                "conversion": -1,
                                "format_spec": null
                              }
                            ]
                          },
                          "type_comment": null
                        },
                        {
                          "type": "Assign",
                          "targets": [
                            {
                              "type": "Name",
                              "id": "auth_satisfied",
                              "ctx": {
                                "type": "Store"
                              }
                            }
                          ],
                          "value": {
                            "type": "Constant",
                            "value": true,
                            "kind": null
                          },
                          "type_comment": null
                        }
                      ],
                      "handlers": [
                        {
                          "type": {
                            "type": "Name",
                            "id": "Exception",
                            "ctx": {
                              "type": "Load"
                            }
                          },
                          "name": "e",
                          "body": [
                            {
                              "type": "Expr",
                              "value": {
                                "type": "Call",
                                "func": {
                                  "type": "Attribute",
                                  "value": {
                                    "type": "Name",
                                    "id": "auth_error_msgs",
                                    "ctx": {
                                      "type": "Load"
                                    }
                                  },
                                  "attr": "append",
                                  "ctx": {
                                    "type": "Load"
                                  }
                                },
                                "args": [
                                  {
                                    "type": "Call",
                                    "func": {
                                      "type": "Name",
                                      "id": "str",
                                      "ctx": {
                                        "type": "Load"
                                      }
                                    },
                                    "args": [
                                      {
                                        "type": "Name",
                                        "id": "e",
                                        "ctx": {
                                          "type": "Load"
                                        }
                                      }
                                    ],
                                    "keywords": []
                                  }
                                ],
                                "keywords": []
                              }
                            }
                          ]
                        }
                      ],
                      "orelse": [],
                      "finalbody": []
                    }
                  ],
                  "orelse": []
                },
                {
                  "type": "If",
                  "test": {
                    "type": "UnaryOp",
                    "op": {
                      "type": "Not"
                    },
                    "operand": {
                      "type": "Name",
                      "id": "auth_satisfied",
                      "ctx": {
                        "type": "Load"
                      }
                    }
                  },
                  "body": [
                    {
                      "type": "Raise",
                      "exc": {
                        "type": "Call",
                        "func": {
                          "type": "Name",
                          "id": "ValueError",
                          "ctx": {
                            "type": "Load"
                          }
                        },
                        "args": [
                          {
                            "type": "BinOp",
                            "left": {
                              "type": "Constant",
                              "value": "No valid authentication found. Details: ",
                              "kind": null
                            },
                            "op": {
                              "type": "Add"
                            },
                            "right": {
                              "type": "Call",
                              "func": {
                                "type": "Attribute",
                                "value": {
                                  "type": "Constant",
                                  "value": "; ",
                                  "kind": null
                                },
                                "attr": "join",
                                "ctx": {
                                  "type": "Load"
                                }
                              },
                              "args": [
                                {
                                  "type": "Name",
                                  "id": "auth_error_msgs",
                                  "ctx": {
                                    "type": "Load"
                                  }
                                }
                              ],
                              "keywords": []
                            }
                          }
                        ],
                        "keywords": []
                      },
                      "cause": null
                    }
                  ],
                  "orelse": []
                },
                {
                  "type": "If",
                  "test": {
                    "type": "Compare",
                    "left": {
                      "type": "Name",
                      "id": "api_version",
                      "ctx": {
                        "type": "Load"
                      }
                    },
                    "ops": [
                      {
                        "type": "IsNot"
                      }
                    ],
                    "comparators": [
                      {
                        "type": "Constant",
                        "value": null,
                        "kind": null
                      }
                    ]
                  },
                  "body": [
                    {
                      "type": "Assign",
                      "targets": [
                        {
                          "type": "Subscript",
                          "value": {
                            "type": "Name",
                            "id": "params",
                            "ctx": {
                              "type": "Load"
                            }
                          },
                          "slice": {
                            "type": "Constant",
                            "value": "api-version",
                            "kind": null
                          },
                          "ctx": {
                            "type": "Store"
                          }
                        }
                      ],
                      "value": {
                        "type": "Name",
                        "id": "api_version",
                        "ctx": {
                          "type": "Load"
                        }
                      },
                      "type_comment": null
                    }
                  ],
                  "orelse": []
                },
                {
                  "type": "Try",
                  "body": [
                    {
                      "type": "Assign",
                      "targets": [
                        {
                          "type": "Name",
                          "id": "resp",
                          "ctx": {
                            "type": "Store"
                          }
                        }
                      ],
                      "value": {
                        "type": "Call",
                        "func": {
                          "type": "Attribute",
                          "value": {
                            "type": "Name",
                            "id": "requests",
                            "ctx": {
                              "type": "Load"
                            }
                          },
                          "attr": "post",
                          "ctx": {
                            "type": "Load"
                          }
                        },
                        "args": [
                          {
                            "type": "Name",
                            "id": "url",
                            "ctx": {
                              "type": "Load"
                            }
                          }
                        ],
                        "keywords": [
                          {
                            "type": "keyword",
                            "arg": "params",
                            "value": {
                              "type": "Name",
                              "id": "params",
                              "ctx": {
                                "type": "Load"
                              }
                            }
                          },
                          {
                            "type": "keyword",
                            "arg": "headers",
                            "value": {
                              "type": "Name",
                              "id": "headers",
                              "ctx": {
                                "type": "Load"
                              }
                            }
                          },
                          {
                            "type": "keyword",
                            "arg": "cookies",
                            "value": {
                              "type": "Name",
                              "id": "cookies",
                              "ctx": {
                                "type": "Load"
                              }
                            }
                          }
                        ]
                      },
                      "type_comment": null
                    },
                    {
                      "type": "Expr",
                      "value": {
                        "type": "Call",
                        "func": {
                          "type": "Attribute",
                          "value": {
                            "type": "Name",
                            "id": "resp",
                            "ctx": {
                              "type": "Load"
                            }
                          },
                          "attr": "raise_for_status",
                          "ctx": {
                            "type": "Load"
                          }
                        },
                        "args": [],
                        "keywords": []
                      }
                    },
                    {
                      "type": "If",
                      "test": {
                        "type": "Compare",
                        "left": {
                          "type": "Constant",
                          "value": "application/json",
                          "kind": null
                        },
                        "ops": [
                          {
                            "type": "In"
                          }
                        ],
                        "comparators": [
                          {
                            "type": "Call",
                            "func": {
                              "type": "Attribute",
                              "value": {
                                "type": "Attribute",
                                "value": {
                                  "type": "Name",
                                  "id": "resp",
                                  "ctx": {
                                    "type": "Load"
                                  }
                                },
                                "attr": "headers",
                                "ctx": {
                                  "type": "Load"
                                }
                              },
                              "attr": "get",
                              "ctx": {
                                "type": "Load"
                              }
                            },
                            "args": [
                              {
                                "type": "Constant",
                                "value": "Content-Type",
                                "kind": null
                              },
                              {
                                "type": "Constant",
                                "value": "",
                                "kind": null
                              }
                            ],
                            "keywords": []
                          }
                        ]
                      },
                      "body": [
                        {
                          "type": "Return",
                          "value": {
                            "type": "Call",
                            "func": {
                              "type": "Attribute",
                              "value": {
                                "type": "Name",
                                "id": "resp",
                                "ctx": {
                                  "type": "Load"
                                }
                              },
                              "attr": "json",
                              "ctx": {
                                "type": "Load"
                              }
                            },
                            "args": [],
                            "keywords": []
                          }
                        }
                      ],
                      "orelse": [
                        {
                          "type": "Return",
                          "value": {
                            "type": "Dict",
                            "keys": [
                              {
                                "type": "Constant",
                                "value": "raw",
                                "kind": null
                              },
                              {
                                "type": "Constant",
                                "value": "status_code",
                                "kind": null
                              }
                            ],
                            "values": [
                              {
                                "type": "Attribute",
                                "value": {
                                  "type": "Name",
                                  "id": "resp",
                                  "ctx": {
                                    "type": "Load"
                                  }
                                },
                                "attr": "text",
                                "ctx": {
                                  "type": "Load"
                                }
                              },
                              {
                                "type": "Attribute",
                                "value": {
                                  "type": "Name",
                                  "id": "resp",
                                  "ctx": {
                                    "type": "Load"
                                  }
                                },
                                "attr": "status_code",
                                "ctx": {
                                  "type": "Load"
                                }
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ],
                  "handlers": [
                    {
                      "type": {
                        "type": "Attribute",
                        "value": {
                          "type": "Attribute",
                          "value": {
                            "type": "Name",
                            "id": "requests",
                            "ctx": {
                              "type": "Load"
                            }
                          },
                          "attr": "exceptions",
                          "ctx": {
                            "type": "Load"
                          }
                        },
                        "attr": "RequestException",
                        "ctx": {
                          "type": "Load"
                        }
                      },
                      "name": "e",
                      "body": [
                        {
                          "type": "Raise",
                          "exc": {
                            "type": "Call",
                            "func": {
                              "type": "Name",
                              "id": "ValueError",
                              "ctx": {
                                "type": "Load"
                              }
                            },
                            "args": [
                              {
                                "type": "JoinedStr",
                                "values": [
                                  {
                                    "type": "Constant",
                                    "value": "HTTP request failed: ",
                                    "kind": null
                                  },
                                  {
                                    "type": "FormattedValue",
                                    "value": {
                                      "type": "Call",
                                      "func": {
                                        "type": "Name",
                                        "id": "str",
                                        "ctx": {
                                          "type": "Load"
                                        }
                                      },
                                      "args": [
                                        {
                                          "type": "Name",
                                          "id": "e",
                                          "ctx": {
                                            "type": "Load"
                                          }
                                        }
                                      ],
                                      "keywords": []
                                    },
                                    "conversion": -1,
                                    "format_spec": null
                                  }
                                ]
                              }
                            ],
                            "keywords": []
                          },
                          "cause": null
                        }
                      ]
                    },
                    {
                      "type": {
                        "type": "Name",
                        "id": "Exception",
                        "ctx": {
                          "type": "Load"
                        }
                      },
                      "name": "e",
                      "body": [
                        {
                          "type": "Raise",
                          "exc": {
                            "type": "Call",
                            "func": {
                              "type": "Name",
                              "id": "ValueError",
                              "ctx": {
                                "type": "Load"
                              }
                            },
                            "args": [
                              {
                                "type": "JoinedStr",
                                "values": [
                                  {
                                    "type": "Constant",
                                    "value": "Unexpected error: ",
                                    "kind": null
                                  },
                                  {
                                    "type": "FormattedValue",
                                    "value": {
                                      "type": "Call",
                                      "func": {
                                        "type": "Name",
                                        "id": "str",
                                        "ctx": {
                                          "type": "Load"
                                        }
                                      },
                                      "args": [
                                        {
                                          "type": "Name",
                                          "id": "e",
                                          "ctx": {
                                            "type": "Load"
                                          }
                                        }
                                      ],
                                      "keywords": []
                                    },
                                    "conversion": -1,
                                    "format_spec": null
                                  }
                                ]
                              }
                            ],
                            "keywords": []
                          },
                          "cause": null
                        }
                      ]
                    }
                  ],
                  "orelse": [],
                  "finalbody": []
                }
              ],
              "decorator_list": [
                {
                  "type": "Call",
                  "func": {
                    "type": "Attribute",
                    "value": {
                      "type": "Name",
                      "id": "mcp",
                      "ctx": {
                        "type": "Load"
                      }
                    },
                    "attr": "tool",
                    "ctx": {
                      "type": "Load"
                    }
                  },
                  "args": [],
                  "keywords": [
                    {
                      "type": "keyword",
                      "arg": "name",
                      "value": {
                        "type": "Constant",
                        "value": "Resources",
                        "kind": null
                      }
                    },
                    {
                      "type": "keyword",
                      "arg": "description",
                      "value": {
                        "type": "Constant",
                        "value": "Queries the resources managed by Azure Resource Manager for all subscriptions specified in the request.",
                        "kind": null
                      }
                    }
                  ]
                }
              ],
              "returns": null,
              "type_comment": null,
              "type_params": []
            },
            {
              "type": "FunctionDef",
              "name": "Operations_List",
              "args": {
                "type": "arguments",
                "posonlyargs": [],
                "args": [
                  {
                    "type": "arg",
                    "arg": "api_version",
                    "annotation": {
                      "type": "Subscript",
                      "value": {
                        "type": "Name",
                        "id": "Optional",
                        "ctx": {
                          "type": "Load"
                        }
                      },
                      "slice": {
                        "type": "Name",
                        "id": "str",
                        "ctx": {
                          "type": "Load"
                        }
                      },
                      "ctx": {
                        "type": "Load"
                      }
                    },
                    "type_comment": null
                  }
                ],
                "vararg": null,
                "kwonlyargs": [],
                "kw_defaults": [],
                "kwarg": null,
                "defaults": [
                  {
                    "type": "Constant",
                    "value": null,
                    "kind": null
                  }
                ]
              },
              "body": [
                {
                  "type": "Expr",
                  "value": {
                    "type": "Constant",
                    "value": "Lists all of the available REST API operations.",
                    "kind": null
                  }
                },
                {
                  "type": "Assign",
                  "targets": [
                    {
                      "type": "Name",
                      "id": "base_url",
                      "ctx": {
                        "type": "Store"
                      }
                    }
                  ],
                  "value": {
                    "type": "Constant",
                    "value": "https://management.azure.com",
                    "kind": null
                  },
                  "type_comment": null
                },
                {
                  "type": "Assign",
                  "targets": [
                    {
                      "type": "Name",
                      "id": "url",
                      "ctx": {
                        "type": "Store"
                      }
                    }
                  ],
                  "value": {
                    "type": "JoinedStr",
                    "values": [
                      {
                        "type": "FormattedValue",
                        "value": {
                          "type": "Name",
                          "id": "base_url",
                          "ctx": {
                            "type": "Load"
                          }
                        },
                        "conversion": -1,
                        "format_spec": null
                      },
                      {
                        "type": "Constant",
                        "value": "/providers/Microsoft.ResourceGraph/operations",
                        "kind": null
                      }
                    ]
                  },
                  "type_comment": null
                },
                {
                  "type": "Assign",
                  "targets": [
                    {
                      "type": "Name",
                      "id": "params",
                      "ctx": {
                        "type": "Store"
                      }
                    }
                  ],
                  "value": {
                    "type": "Dict",
                    "keys": [],
                    "values": []
                  },
                  "type_comment": null
                },
                {
                  "type": "Assign",
                  "targets": [
                    {
                      "type": "Name",
                      "id": "headers",
                      "ctx": {
                        "type": "Store"
                      }
                    }
                  ],
                  "value": {
                    "type": "Dict",
                    "keys": [],
                    "values": []
                  },
                  "type_comment": null
                },
                {
                  "type": "Assign",
                  "targets": [
                    {
                      "type": "Name",
                      "id": "cookies",
                      "ctx": {
                        "type": "Store"
                      }
                    }
                  ],
                  "value": {
                    "type": "Dict",
                    "keys": [],
                    "values": []
                  },
                  "type_comment": null
                },
                {
                  "type": "Assign",
                  "targets": [
                    {
                      "type": "Name",
                      "id": "extra_headers",
                      "ctx": {
                        "type": "Store"
                      }
                    }
                  ],
                  "value": {
                    "type": "Call",
                    "func": {
                      "type": "Attribute",
                      "value": {
                        "type": "Name",
                        "id": "os",
                        "ctx": {
                          "type": "Load"
                        }
                      },
                      "attr": "getenv",
                      "ctx": {
                        "type": "Load"
                      }
                    },
                    "args": [
                      {
                        "type": "Constant",
                        "value": "EXTRA_HEADERS",
                        "kind": null
                      }
                    ],
                    "keywords": []
                  },
                  "type_comment": null
                },
                {
                  "type": "If",
                  "test": {
                    "type": "Name",
                    "id": "extra_headers",
                    "ctx": {
                      "type": "Load"
                    }
                  },
                  "body": [
                    {
                      "type": "Try",
                      "body": [
                        {
                          "type": "For",
                          "target": {
                            "type": "Tuple",
                            "elts": [
                              {
                                "type": "Name",
                                "id": "k",
                                "ctx": {
                                  "type": "Store"
                                }
                              },
                              {
                                "type": "Name",
                                "id": "v",
                                "ctx": {
                                  "type": "Store"
                                }
                              }
                            ],
                            "ctx": {
                              "type": "Store"
                            }
                          },
                          "iter": {
                            "type": "Call",
                            "func": {
                              "type": "Attribute",
                              "value": {
                                "type": "Call",
                                "func": {
                                  "type": "Attribute",
                                  "value": {
                                    "type": "Name",
                                    "id": "json",
                                    "ctx": {
                                      "type": "Load"
                                    }
                                  },
                                  "attr": "loads",
                                  "ctx": {
                                    "type": "Load"
                                  }
                                },
                                "args": [
                                  {
                                    "type": "Name",
                                    "id": "extra_headers",
                                    "ctx": {
                                      "type": "Load"
                                    }
                                  }
                                ],
                                "keywords": []
                              },
                              "attr": "items",
                              "ctx": {
                                "type": "Load"
                              }
                            },
                            "args": [],
                            "keywords": []
                          },
                          "body": [
                            {
                              "type": "Assign",
                              "targets": [
                                {
                                  "type": "Subscript",
                                  "value": {
                                    "type": "Name",
                                    "id": "headers",
                                    "ctx": {
                                      "type": "Load"
                                    }
                                  },
                                  "slice": {
                                    "type": "Name",
                                    "id": "k",
                                    "ctx": {
                                      "type": "Load"
                                    }
                                  },
                                  "ctx": {
                                    "type": "Store"
                                  }
                                }
                              ],
                              "value": {
                                "type": "Name",
                                "id": "v",
                                "ctx": {
                                  "type": "Load"
                                }
                              },
                              "type_comment": null
                            }
                          ],
                          "orelse": [],
                          "type_comment": null
                        }
                      ],
                      "handlers": [
                        {
                          "type": {
                            "type": "Name",
                            "id": "Exception",
                            "ctx": {
                              "type": "Load"
                            }
                          },
                          "name": "e",
                          "body": [
                            {
                              "type": "Expr",
                              "value": {
                                "type": "Call",
                                "func": {
                                  "type": "Name",
                                  "id": "print",
                                  "ctx": {
                                    "type": "Load"
                                  }
                                },
                                "args": [
                                  {
                                    "type": "Constant",
                                    "value": "Failed to parse EXTRA_HEADERS:",
                                    "kind": null
                                  },
                                  {
                                    "type": "Name",
                                    "id": "e",
                                    "ctx": {
                                      "type": "Load"
                                    }
                                  }
                                ],
                                "keywords": []
                              }
                            }
                          ]
                        }
                      ],
                      "orelse": [],
                      "finalbody": []
                    }
                  ],
                  "orelse": []
                },
                {
                  "type": "Assign",
                  "targets": [
                    {
                      "type": "Name",
                      "id": "auth_satisfied",
                      "ctx": {
                        "type": "Store"
                      }
                    }
                  ],
                  "value": {
                    "type": "Constant",
                    "value": false,
                    "kind": null
                  },
                  "type_comment": null
                },
                {
                  "type": "Assign",
                  "targets": [
                    {
                      "type": "Name",
                      "id": "auth_error_msgs",
                      "ctx": {
                        "type": "Store"
                      }
                    }
                  ],
                  "value": {
                    "type": "List",
                    "elts": [],
                    "ctx": {
                      "type": "Load"
                    }
                  },
                  "type_comment": null
                },
                {
                  "type": "If",
                  "test": {
                    "type": "UnaryOp",
                    "op": {
                      "type": "Not"
                    },
                    "operand": {
                      "type": "Name",
                      "id": "auth_satisfied",
                      "ctx": {
                        "type": "Load"
                      }
                    }
                  },
                  "body": [
                    {
                      "type": "Try",
                      "body": [
                        {
                          "type": "Assign",
                          "targets": [
                            {
                              "type": "Name",
                              "id": "access_token",
                              "ctx": {
                                "type": "Store"
                              }
                            }
                          ],
                          "value": {
                            "type": "Call",
                            "func": {
                              "type": "Attribute",
                              "value": {
                                "type": "Name",
                                "id": "os",
                                "ctx": {
                                  "type": "Load"
                                }
                              },
                              "attr": "getenv",
                              "ctx": {
                                "type": "Load"
                              }
                            },
                            "args": [
                              {
                                "type": "Constant",
                                "value": "AZURE_AUTH_AUTHORIZATIONCODE_ACCESS_TOKEN",
                                "kind": null
                              }
                            ],
                            "keywords": []
                          },
                          "type_comment": null
                        },
                        {
                          "type": "If",
                          "test": {
                            "type": "UnaryOp",
                            "op": {
                              "type": "Not"
                            },
                            "operand": {
                              "type": "Name",
                              "id": "access_token",
                              "ctx": {
                                "type": "Load"
                              }
                            }
                          },
                          "body": [
                            {
                              "type": "Raise",
                              "exc": {
                                "type": "Call",
                                "func": {
                                  "type": "Name",
                                  "id": "ValueError",
                                  "ctx": {
                                    "type": "Load"
                                  }
                                },
                                "args": [
                                  {
                                    "type": "Constant",
                                    "value": "Missing OAuth2 access token in .env: AZURE_AUTH_AUTHORIZATIONCODE_ACCESS_TOKEN",
                                    "kind": null
                                  }
                                ],
                                "keywords": []
                              },
                              "cause": null
                            }
                          ],
                          "orelse": []
                        },
                        {
                          "type": "Assign",
                          "targets": [
                            {
                              "type": "Subscript",
                              "value": {
                                "type": "Name",
                                "id": "headers",
                                "ctx": {
                                  "type": "Load"
                                }
                              },
                              "slice": {
                                "type": "Constant",
                                "value": "Authorization",
                                "kind": null
                              },
                              "ctx": {
                                "type": "Store"
                              }
                            }
                          ],
                          "value": {
                            "type": "JoinedStr",
                            "values": [
                              {
                                "type": "Constant",
                                "value": "Bearer ",
                                "kind": null
                              },
                              {
                                "type": "FormattedValue",
                                "value": {
                                  "type": "Name",
                                  "id": "access_token",
                                  "ctx": {
                                    "type": "Load"
                                  }
                                },
                                "conversion": -1,
                                "format_spec": null
                              }
                            ]
                          },
                          "type_comment": null
                        },
                        {
                          "type": "Assign",
                          "targets": [
                            {
                              "type": "Name",
                              "id": "auth_satisfied",
                              "ctx": {
                                "type": "Store"
                              }
                            }
                          ],
                          "value": {
                            "type": "Constant",
                            "value": true,
                            "kind": null
                          },
                          "type_comment": null
                        }
                      ],
                      "handlers": [
                        {
                          "type": {
                            "type": "Name",
                            "id": "Exception",
                            "ctx": {
                              "type": "Load"
                            }
                          },
                          "name": "e",
                          "body": [
                            {
                              "type": "Expr",
                              "value": {
                                "type": "Call",
                                "func": {
                                  "type": "Attribute",
                                  "value": {
                                    "type": "Name",
                                    "id": "auth_error_msgs",
                                    "ctx": {
                                      "type": "Load"
                                    }
                                  },
                                  "attr": "append",
                                  "ctx": {
                                    "type": "Load"
                                  }
                                },
                                "args": [
                                  {
                                    "type": "Call",
                                    "func": {
                                      "type": "Name",
                                      "id": "str",
                                      "ctx": {
                                        "type": "Load"
                                      }
                                    },
                                    "args": [
                                      {
                                        "type": "Name",
                                        "id": "e",
                                        "ctx": {
                                          "type": "Load"
                                        }
                                      }
                                    ],
                                    "keywords": []
                                  }
                                ],
                                "keywords": []
                              }
                            }
                          ]
                        }
                      ],
                      "orelse": [],
                      "finalbody": []
                    }
                  ],
                  "orelse": []
                },
                {
                  "type": "If",
                  "test": {
                    "type": "UnaryOp",
                    "op": {
                      "type": "Not"
                    },
                    "operand": {
                      "type": "Name",
                      "id": "auth_satisfied",
                      "ctx": {
                        "type": "Load"
                      }
                    }
                  },
                  "body": [
                    {
                      "type": "Raise",
                      "exc": {
                        "type": "Call",
                        "func": {
                          "type": "Name",
                          "id": "ValueError",
                          "ctx": {
                            "type": "Load"
                          }
                        },
                        "args": [
                          {
                            "type": "BinOp",
                            "left": {
                              "type": "Constant",
                              "value": "No valid authentication found. Details: ",
                              "kind": null
                            },
                            "op": {
                              "type": "Add"
                            },
                            "right": {
                              "type": "Call",
                              "func": {
                                "type": "Attribute",
                                "value": {
                                  "type": "Constant",
                                  "value": "; ",
                                  "kind": null
                                },
                                "attr": "join",
                                "ctx": {
                                  "type": "Load"
                                }
                              },
                              "args": [
                                {
                                  "type": "Name",
                                  "id": "auth_error_msgs",
                                  "ctx": {
                                    "type": "Load"
                                  }
                                }
                              ],
                              "keywords": []
                            }
                          }
                        ],
                        "keywords": []
                      },
                      "cause": null
                    }
                  ],
                  "orelse": []
                },
                {
                  "type": "If",
                  "test": {
                    "type": "Compare",
                    "left": {
                      "type": "Name",
                      "id": "api_version",
                      "ctx": {
                        "type": "Load"
                      }
                    },
                    "ops": [
                      {
                        "type": "IsNot"
                      }
                    ],
                    "comparators": [
                      {
                        "type": "Constant",
                        "value": null,
                        "kind": null
                      }
                    ]
                  },
                  "body": [
                    {
                      "type": "Assign",
                      "targets": [
                        {
                          "type": "Subscript",
                          "value": {
                            "type": "Name",
                            "id": "params",
                            "ctx": {
                              "type": "Load"
                            }
                          },
                          "slice": {
                            "type": "Constant",
                            "value": "api-version",
                            "kind": null
                          },
                          "ctx": {
                            "type": "Store"
                          }
                        }
                      ],
                      "value": {
                        "type": "Name",
                        "id": "api_version",
                        "ctx": {
                          "type": "Load"
                        }
                      },
                      "type_comment": null
                    }
                  ],
                  "orelse": []
                },
                {
                  "type": "Try",
                  "body": [
                    {
                      "type": "Assign",
                      "targets": [
                        {
                          "type": "Name",
                          "id": "resp",
                          "ctx": {
                            "type": "Store"
                          }
                        }
                      ],
                      "value": {
                        "type": "Call",
                        "func": {
                          "type": "Attribute",
                          "value": {
                            "type": "Name",
                            "id": "requests",
                            "ctx": {
                              "type": "Load"
                            }
                          },
                          "attr": "get",
                          "ctx": {
                            "type": "Load"
                          }
                        },
                        "args": [
                          {
                            "type": "Name",
                            "id": "url",
                            "ctx": {
                              "type": "Load"
                            }
                          }
                        ],
                        "keywords": [
                          {
                            "type": "keyword",
                            "arg": "params",
                            "value": {
                              "type": "Name",
                              "id": "params",
                              "ctx": {
                                "type": "Load"
                              }
                            }
                          },
                          {
                            "type": "keyword",
                            "arg": "headers",
                            "value": {
                              "type": "Name",
                              "id": "headers",
                              "ctx": {
                                "type": "Load"
                              }
                            }
                          },
                          {
                            "type": "keyword",
                            "arg": "cookies",
                            "value": {
                              "type": "Name",
                              "id": "cookies",
                              "ctx": {
                                "type": "Load"
                              }
                            }
                          }
                        ]
                      },
                      "type_comment": null
                    },
                    {
                      "type": "Expr",
                      "value": {
                        "type": "Call",
                        "func": {
                          "type": "Attribute",
                          "value": {
                            "type": "Name",
                            "id": "resp",
                            "ctx": {
                              "type": "Load"
                            }
                          },
                          "attr": "raise_for_status",
                          "ctx": {
                            "type": "Load"
                          }
                        },
                        "args": [],
                        "keywords": []
                      }
                    },
                    {
                      "type": "If",
                      "test": {
                        "type": "Compare",
                        "left": {
                          "type": "Constant",
                          "value": "application/json",
                          "kind": null
                        },
                        "ops": [
                          {
                            "type": "In"
                          }
                        ],
                        "comparators": [
                          {
                            "type": "Call",
                            "func": {
                              "type": "Attribute",
                              "value": {
                                "type": "Attribute",
                                "value": {
                                  "type": "Name",
                                  "id": "resp",
                                  "ctx": {
                                    "type": "Load"
                                  }
                                },
                                "attr": "headers",
                                "ctx": {
                                  "type": "Load"
                                }
                              },
                              "attr": "get",
                              "ctx": {
                                "type": "Load"
                              }
                            },
                            "args": [
                              {
                                "type": "Constant",
                                "value": "Content-Type",
                                "kind": null
                              },
                              {
                                "type": "Constant",
                                "value": "",
                                "kind": null
                              }
                            ],
                            "keywords": []
                          }
                        ]
                      },
                      "body": [
                        {
                          "type": "Return",
                          "value": {
                            "type": "Call",
                            "func": {
                              "type": "Attribute",
                              "value": {
                                "type": "Name",
                                "id": "resp",
                                "ctx": {
                                  "type": "Load"
                                }
                              },
                              "attr": "json",
                              "ctx": {
                                "type": "Load"
                              }
                            },
                            "args": [],
                            "keywords": []
                          }
                        }
                      ],
                      "orelse": [
                        {
                          "type": "Return",
                          "value": {
                            "type": "Dict",
                            "keys": [
                              {
                                "type": "Constant",
                                "value": "raw",
                                "kind": null
                              },
                              {
                                "type": "Constant",
                                "value": "status_code",
                                "kind": null
                              }
                            ],
                            "values": [
                              {
                                "type": "Attribute",
                                "value": {
                                  "type": "Name",
                                  "id": "resp",
                                  "ctx": {
                                    "type": "Load"
                                  }
                                },
                                "attr": "text",
                                "ctx": {
                                  "type": "Load"
                                }
                              },
                              {
                                "type": "Attribute",
                                "value": {
                                  "type": "Name",
                                  "id": "resp",
                                  "ctx": {
                                    "type": "Load"
                                  }
                                },
                                "attr": "status_code",
                                "ctx": {
                                  "type": "Load"
                                }
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ],
                  "handlers": [
                    {
                      "type": {
                        "type": "Attribute",
                        "value": {
                          "type": "Attribute",
                          "value": {
                            "type": "Name",
                            "id": "requests",
                            "ctx": {
                              "type": "Load"
                            }
                          },
                          "attr": "exceptions",
                          "ctx": {
                            "type": "Load"
                          }
                        },
                        "attr": "RequestException",
                        "ctx": {
                          "type": "Load"
                        }
                      },
                      "name": "e",
                      "body": [
                        {
                          "type": "Raise",
                          "exc": {
                            "type": "Call",
                            "func": {
                              "type": "Name",
                              "id": "ValueError",
                              "ctx": {
                                "type": "Load"
                              }
                            },
                            "args": [
                              {
                                "type": "JoinedStr",
                                "values": [
                                  {
                                    "type": "Constant",
                                    "value": "HTTP request failed: ",
                                    "kind": null
                                  },
                                  {
                                    "type": "FormattedValue",
                                    "value": {
                                      "type": "Call",
                                      "func": {
                                        "type": "Name",
                                        "id": "str",
                                        "ctx": {
                                          "type": "Load"
                                        }
                                      },
                                      "args": [
                                        {
                                          "type": "Name",
                                          "id": "e",
                                          "ctx": {
                                            "type": "Load"
                                          }
                                        }
                                      ],
                                      "keywords": []
                                    },
                                    "conversion": -1,
                                    "format_spec": null
                                  }
                                ]
                              }
                            ],
                            "keywords": []
                          },
                          "cause": null
                        }
                      ]
                    },
                    {
                      "type": {
                        "type": "Name",
                        "id": "Exception",
                        "ctx": {
                          "type": "Load"
                        }
                      },
                      "name": "e",
                      "body": [
                        {
                          "type": "Raise",
                          "exc": {
                            "type": "Call",
                            "func": {
                              "type": "Name",
                              "id": "ValueError",
                              "ctx": {
                                "type": "Load"
                              }
                            },
                            "args": [
                              {
                                "type": "JoinedStr",
                                "values": [
                                  {
                                    "type": "Constant",
                                    "value": "Unexpected error: ",
                                    "kind": null
                                  },
                                  {
                                    "type": "FormattedValue",
                                    "value": {
                                      "type": "Call",
                                      "func": {
                                        "type": "Name",
                                        "id": "str",
                                        "ctx": {
                                          "type": "Load"
                                        }
                                      },
                                      "args": [
                                        {
                                          "type": "Name",
                                          "id": "e",
                                          "ctx": {
                                            "type": "Load"
                                          }
                                        }
                                      ],
                                      "keywords": []
                                    },
                                    "conversion": -1,
                                    "format_spec": null
                                  }
                                ]
                              }
                            ],
                            "keywords": []
                          },
                          "cause": null
                        }
                      ]
                    }
                  ],
                  "orelse": [],
                  "finalbody": []
                }
              ],
              "decorator_list": [
                {
                  "type": "Call",
                  "func": {
                    "type": "Attribute",
                    "value": {
                      "type": "Name",
                      "id": "mcp",
                      "ctx": {
                        "type": "Load"
                      }
                    },
                    "attr": "tool",
                    "ctx": {
                      "type": "Load"
                    }
                  },
                  "args": [],
                  "keywords": [
                    {
                      "type": "keyword",
                      "arg": "name",
                      "value": {
                        "type": "Constant",
                        "value": "Operations_List",
                        "kind": null
                      }
                    },
                    {
                      "type": "keyword",
                      "arg": "description",
                      "value": {
                        "type": "Constant",
                        "value": "Lists all of the available REST API operations.",
                        "kind": null
                      }
                    }
                  ]
                }
              ],
              "returns": null,
              "type_comment": null,
              "type_params": []
            },
            {
              "type": "Expr",
              "value": {
                "type": "Call",
                "func": {
                  "type": "Attribute",
                  "value": {
                    "type": "Name",
                    "id": "mcp",
                    "ctx": {
                      "type": "Load"
                    }
                  },
                  "attr": "run",
                  "ctx": {
                    "type": "Load"
                  }
                },
                "args": [],
                "keywords": [
                  {
                    "type": "keyword",
                    "arg": "transport",
                    "value": {
                      "type": "Constant",
                      "value": "stdio",
                      "kind": null
                    }
                  }
                ]
              }
            }
          ],
          "orelse": []
        }
      ],
      "type_ignores": []
    }
  }
}