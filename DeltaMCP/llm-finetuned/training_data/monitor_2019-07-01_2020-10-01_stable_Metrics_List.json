{"tools_a":{"Metrics_List":"@mcp.tool(name='Metrics_List', description=\"**Lists the metric values for a resource**. This API used the [default ARM throttling limits](https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/request-limits-and-throttling).\")\ndef Metrics_List(resourceUri: str, timespan: Optional[str] = None, interval: Optional[str] = None, metricnames: Optional[str] = None, aggregation: Optional[str] = None, top: Optional[str] = None, orderby: Optional[str] = None, _filter: Optional[str] = None, resultType: Optional[str] = None, metricnamespace: Optional[str] = None, AutoAdjustTimegrain: Optional[str] = None, ValidateDimensions: Optional[str] = None):\n    '''**Lists the metric values for a resource**. This API used the [default ARM throttling limits](https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/request-limits-and-throttling).'''\n    base_url = \"https://management.azure.com\"\n    url = f\"{base_url}/{resourceUri}/providers/Microsoft.Insights/metrics\"\n    params = {}\n    headers = {}\n    cookies = {}\n    extra_headers = os.getenv('EXTRA_HEADERS')\n    if extra_headers:\n        try:\n            for k, v in json.loads(extra_headers).items():\n                headers[k] = v\n        except Exception as e:\n            print('Failed to parse EXTRA_HEADERS:', e)\n    auth_satisfied = False\n    auth_error_msgs = []\n    if not auth_satisfied:\n        try:\n            access_token = os.getenv('AZURE_AUTH_AUTHORIZATIONCODE_ACCESS_TOKEN')\n            if not access_token:\n                raise ValueError('Missing OAuth2 access token in .env: AZURE_AUTH_AUTHORIZATIONCODE_ACCESS_TOKEN')\n            headers['Authorization'] = f'Bearer {access_token}'\n            auth_satisfied = True\n        except Exception as e:\n            auth_error_msgs.append(str(e))\n    if not auth_satisfied:\n        raise ValueError('No valid authentication found. Details: ' + '; '.join(auth_error_msgs))\n    if resourceUri is None:\n        raise ValueError('Missing required path parameter: resourceUri')\n    if timespan is not None:\n        params['timespan'] = timespan\n    if interval is not None:\n        params['interval'] = interval\n    if metricnames is not None:\n        params['metricnames'] = metricnames\n    if aggregation is not None:\n        params['aggregation'] = aggregation\n    if top is not None:\n        params['top'] = top\n    if orderby is not None:\n        params['orderby'] = orderby\n    if _filter is not None:\n        params['$filter'] = _filter\n    if resultType is not None:\n        params['resultType'] = resultType\n    if metricnamespace is not None:\n        params['metricnamespace'] = metricnamespace\n    if AutoAdjustTimegrain is not None:\n        params['AutoAdjustTimegrain'] = AutoAdjustTimegrain\n    if ValidateDimensions is not None:\n        params['ValidateDimensions'] = ValidateDimensions\n    try:\n        resp = requests.get(url, params=params, headers=headers, cookies=cookies)\n        resp.raise_for_status()  # Raise an exception for bad status codes\n        if 'application/json' in resp.headers.get('Content-Type', ''):\n            return resp.json()\n        else:\n            return {'raw': resp.text, 'status_code': resp.status_code}\n    except requests.exceptions.RequestException as e:\n        raise ValueError(f'HTTP request failed: {str(e)}')\n    except Exception as e:\n        raise ValueError(f'Unexpected error: {str(e)}')"},"tools_b":{},"p":{"d":{"/{resourceUri}/providers/Microsoft.Insights/metrics":{"ops":{"d":{"get":{"t":["Metrics"],"opId":"Metrics_List","desc":"**Lists the metric values for a resource**. This API used the [default ARM throttling limits](https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/request-limits-and-throttling).","params":[{"r":"#/parameters/ResourceUriParameter"},{"r":"#/parameters/TimespanParameter"},{"r":"#/parameters/IntervalParameter"},{"r":"#/parameters/MetricNamesParameter"},{"r":"#/parameters/AggregationsParameter"},{"r":"#/parameters/TopParameter"},{"r":"#/parameters/OrderByParameter"},{"name":"$filter","in":"query","type":"string","desc":"The **$filter** is used to reduce the set of metric data returned.<br>Example:<br>Metric contains metadata A, B and C.<br>- Return all time series of C where A = a1 and B = b1 or b2<br>**$filter=A eq ‘a1’ and B eq ‘b1’ or B eq ‘b2’ and C eq ‘*’**<br>- Invalid variant:<br>**$filter=A eq ‘a1’ and B eq ‘b1’ and C eq ‘*’ or B = ‘b2’**<br>This is invalid because the logical or operator cannot separate two different metadata names.<br>- Return all time series where A = a1, B = b1 and C = c1:<br>**$filter=A eq ‘a1’ and B eq ‘b1’ and C eq ‘c1’**<br>- Return all time series where A = a1<br>**$filter=A eq ‘a1’ and B eq ‘*’ and C eq ‘*’**.","required":false},{"r":"#/parameters/ResultTypeParameter"},{"r":"../../../../../common-types/resource-management/v2/types.json#/parameters/ApiVersionParameter"},{"r":"#/parameters/MetricNamespaceParameter"},{"r":"#/parameters/AutoAdjustTimegrain"},{"r":"#/parameters/ValidateDimensions"}],"resp":{"default":{"desc":"Error response describing why the operation failed.","sch":{"r":"#/definitions/ErrorResponse"}},"200":{"desc":"Successful request to get the list of metric values.","sch":{"r":"#/definitions/Response"}}},"x-ms-odata":"#/definitions/MetadataValue","ex":{"Get Metric for data":{"r":"./examples/GetMetric.json"},"Get Metric for metadata":{"r":"./examples/GetMetricMetadata.json"},"Get Metric with error":{"r":"./examples/GetMetricError.json"}}}}}}}}}