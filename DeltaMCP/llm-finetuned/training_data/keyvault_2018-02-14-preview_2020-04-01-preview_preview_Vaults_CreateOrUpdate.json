{"tools_a":{"Vaults_CreateOrUpdate":"@mcp.tool(name='Vaults_CreateOrUpdate', description=\"Create or update a key vault in the specified subscription.\")\ndef Vaults_CreateOrUpdate(resourceGroupName: str, vaultName: str, subscriptionId: str, api_version: Optional[str] = None):\n    '''Create or update a key vault in the specified subscription.'''\n    base_url = \"https://management.azure.com\"\n    url = f\"{base_url}/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.KeyVault/vaults/{vaultName}\"\n    params = {}\n    headers = {}\n    cookies = {}\n    extra_headers = os.getenv('EXTRA_HEADERS')\n    if extra_headers:\n        try:\n            for k, v in json.loads(extra_headers).items():\n                headers[k] = v\n        except Exception as e:\n            print('Failed to parse EXTRA_HEADERS:', e)\n    if resourceGroupName is None:\n        raise ValueError('Missing required path parameter: resourceGroupName')\n    if vaultName is None:\n        raise ValueError('Missing required path parameter: vaultName')\n    if subscriptionId is None:\n        raise ValueError('Missing required path parameter: subscriptionId')\n    if api_version is not None:\n        params['api-version'] = api_version\n    try:\n        resp = requests.put(url, params=params, headers=headers, cookies=cookies)\n        resp.raise_for_status()  # Raise an exception for bad status codes\n        if 'application/json' in resp.headers.get('Content-Type', ''):\n            return resp.json()\n        else:\n            return {'raw': resp.text, 'status_code': resp.status_code}\n    except requests.exceptions.RequestException as e:\n        raise ValueError(f'HTTP request failed: {str(e)}')\n    except Exception as e:\n        raise ValueError(f'Unexpected error: {str(e)}')"},"tools_b":{"Vaults_CreateOrUpdate":"@mcp.tool(name='Vaults_CreateOrUpdate', description=\"Create or update a key vault in the specified subscription.\")\ndef Vaults_CreateOrUpdate(resourceGroupName: str, vaultName: str, subscriptionId: str, api_version: Optional[str] = None):\n    '''Create or update a key vault in the specified subscription.'''\n    base_url = \"https://management.azure.com\"\n    url = f\"{base_url}/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.KeyVault/vaults/{vaultName}\"\n    params = {}\n    headers = {}\n    cookies = {}\n    extra_headers = os.getenv('EXTRA_HEADERS')\n    if extra_headers:\n        try:\n            for k, v in json.loads(extra_headers).items():\n                headers[k] = v\n        except Exception as e:\n            print('Failed to parse EXTRA_HEADERS:', e)\n    if resourceGroupName is None:\n        raise ValueError('Missing required path parameter: resourceGroupName')\n    if vaultName is None:\n        raise ValueError('Missing required path parameter: vaultName')\n    if subscriptionId is None:\n        raise ValueError('Missing required path parameter: subscriptionId')\n    if api_version is not None:\n        params['api-version'] = api_version\n    try:\n        resp = requests.put(url, params=params, headers=headers, cookies=cookies)\n        resp.raise_for_status()  # Raise an exception for bad status codes\n        if 'application/json' in resp.headers.get('Content-Type', ''):\n            return resp.json()\n        else:\n            return {'raw': resp.text, 'status_code': resp.status_code}\n    except requests.exceptions.RequestException as e:\n        raise ValueError(f'HTTP request failed: {str(e)}')\n    except Exception as e:\n        raise ValueError(f'Unexpected error: {str(e)}')"},"p":{"m":{"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.KeyVault/vaults/{vaultName}":{"ops":{"m":{"PUT":{"ext":{"m":{"ex":[{"ov":"2018-02-14-preview","v":"2020-04-01-preview","o":"replace","f":"","pth":"/Create a new vault or update an existing vault/parameters/api-version"},{"ov":null,"v":{"bypass":"AzureServices","defaultAction":"Deny","ipRules":[{"v":""}],"virtualNetworkRules":[{"id":"","ignoreMissingVnetServiceEndpoint":false}]},"o":"add","f":"","pth":"/Create a new vault or update an existing vault/responses/200/body/properties/networkAcls"},{"ov":null,"v":[{"id":"","prop":{"privateEndpoint":{"id":""},"privateLinkServiceConnectionState":{"actionsRequired":"None","status":"Approved"},"provisioningState":"Succeeded"}}],"o":"add","f":"","pth":"/Create a new vault or update an existing vault/responses/200/body/properties/privateEndpointConnections"},{"ov":null,"v":"Succeeded","o":"add","f":"","pth":"/Create a new vault or update an existing vault/responses/200/body/properties/provisioningState"},{"ov":null,"v":{"createdAt":"2020-01-01T12:00:00.0000000Z","createdBy":"keyVaultUser1","createdByType":"User","lastModifiedAt":"2020-01-01T12:00:00.0000000Z","lastModifiedBy":"keyVaultUser2","lastModifiedByType":"User"},"o":"add","f":"","pth":"/Create a new vault or update an existing vault/responses/200/body/systemData"},{"ov":null,"v":"Succeeded","o":"add","f":"","pth":"/Create a new vault or update an existing vault/responses/201/body/properties/provisioningState"},{"ov":null,"v":{"createdAt":"2020-01-01T12:00:00.0000000Z","createdBy":"keyVaultUser1","createdByType":"User","lastModifiedAt":"2020-01-01T12:00:00.0000000Z","lastModifiedBy":"keyVaultUser2","lastModifiedByType":"User"},"o":"add","f":"","pth":"/Create a new vault or update an existing vault/responses/201/body/systemData"},{"ov":null,"v":{"body":{"error":{"code":"","message":""}},"headers":{}},"o":"add","f":"","pth":"/Create a new vault or update an existing vault/responses/400"},{"ov":null,"v":{"body":{"error":{"code":"","message":""}},"headers":{}},"o":"add","f":"","pth":"/Create a new vault or update an existing vault/responses/409"},{"ov":"2018-02-14-preview","v":"2020-04-01-preview","o":"replace","f":"","pth":"/Create or update a vault with network acls/parameters/api-version"},{"ov":null,"v":{"createdAt":"2020-01-01T12:00:00.0000000Z","createdBy":"keyVaultUser1","createdByType":"User","lastModifiedAt":"2020-01-01T12:00:00.0000000Z","lastModifiedBy":"keyVaultUser2","lastModifiedByType":"User"},"o":"add","f":"","pth":"/Create or update a vault with network acls/responses/200/body/systemData"},{"ov":null,"v":{"createdAt":"2020-01-01T12:00:00.0000000Z","createdBy":"keyVaultUser1","createdByType":"User","lastModifiedAt":"2020-01-01T12:00:00.0000000Z","lastModifiedBy":"keyVaultUser2","lastModifiedByType":"User"},"o":"add","f":"","pth":"/Create or update a vault with network acls/responses/201/body/systemData"},{"ov":null,"v":{"body":{"error":{"code":"","message":""}},"headers":{}},"o":"add","f":"","pth":"/Create or update a vault with network acls/responses/400"},{"ov":null,"v":{"body":{"error":{"code":"","message":""}},"headers":{}},"o":"add","f":"","pth":"/Create or update a vault with network acls/responses/409"}]}},"params":{"m":{"body":{"params":{"sch":{"prop":{"m":{"prop":{"prop":{"a":["provisioningState","privateEndpointConnections","softDeleteRetentionInDays","enableRbacAuthorization"],"m":{"accessPolicies":{"desc":{"f":"An array of 0 to 1024 identities that have access to the key vault. All identities in the array must use the same tenant ID as the key vault's tenant ID.","to":"An array of 0 to 1024 identities that have access to the key vault. All identities in the array must use the same tenant ID as the key vault's tenant ID. When `createMode` is set to `recover`, access policies are not required. Otherwise, access policies are required."}},"enableSoftDelete":{"desc":{"f":"Property to specify whether the 'soft delete' functionality is enabled for this key vault. It does not accept false value.","to":"Property to specify whether the 'soft delete' functionality is enabled for this key vault. If it's not set to any value(true or false) when creating new key vault, it will be set to true by default. Once set to true, it cannot be reverted to false."},"default":{"f":null,"to":true}},"networkAcls":{"prop":{"m":{"virtualNetworkRules":{"items":{"prop":{"a":["ignoreMissingVnetServiceEndpoint"]}}}}}}}}}}}}}}}},"resp":{"a":["400","409","default"],"m":{"200":{"ext":{"m":{"sch":[{"ov":[{"desc":"Key Vault resource","prop":{"id":{"desc":"The Azure Resource Manager resource ID for the key vault.","readOnly":true,"type":"string"},"location":{"desc":"The supported Azure location where the key vault should be created.","type":"string"},"name":{"desc":"The name of the key vault.","readOnly":true,"type":"string"},"t":{"additionalProperties":{"type":"string"},"desc":"The tags that will be assigned to the key vault. ","type":"object"},"type":{"desc":"The resource type of the key vault.","readOnly":true,"type":"string"}},"required":["location"],"x-ms-azure-resource":true}],"v":null,"o":"remove","f":"","pth":"/allOf"},{"ov":null,"v":{"desc":"Fully qualified identifier of the key vault resource.","readOnly":true,"type":"string"},"o":"add","f":"","pth":"/properties/id"},{"ov":null,"v":{"desc":"Azure location of the key vault resource.","type":"string"},"o":"add","f":"","pth":"/properties/location"},{"ov":null,"v":{"desc":"Name of the key vault resource.","readOnly":true,"type":"string"},"o":"add","f":"","pth":"/properties/name"},{"ov":"An array of 0 to 1024 identities that have access to the key vault. All identities in the array must use the same tenant ID as the key vault's tenant ID.","v":"An array of 0 to 1024 identities that have access to the key vault. All identities in the array must use the same tenant ID as the key vault's tenant ID. When `createMode` is set to `recover`, access policies are not required. Otherwise, access policies are required.","o":"replace","f":"","pth":"/properties/properties/properties/accessPolicies/description"},{"ov":null,"v":{"default":false,"desc":"Property that controls how data actions are authorized. When true, the key vault will use Role Based Access Control (RBAC) for authorization of data actions, and the access policies specified in vault properties will be  ignored. When false, the key vault will use the access policies specified in vault properties, and any policy stored on Azure Resource Manager will be ignored. If null or not specified, the vault is created with the default value of false. Note that management actions are always authorized with RBAC.","type":"boolean"},"o":"add","f":"","pth":"/properties/properties/properties/enableRbacAuthorization"},{"ov":null,"v":true,"o":"add","f":"","pth":"/properties/properties/properties/enableSoftDelete/default"},{"ov":"Property to specify whether the 'soft delete' functionality is enabled for this key vault. It does not accept false value.","v":"Property to specify whether the 'soft delete' functionality is enabled for this key vault. If it's not set to any value(true or false) when creating new key vault, it will be set to true by default. Once set to true, it cannot be reverted to false.","o":"replace","f":"","pth":"/properties/properties/properties/enableSoftDelete/description"},{"ov":null,"v":{"desc":"Property to specify whether NRP will ignore the check if parent subnet has serviceEndpoints configured.","type":"boolean"},"o":"add","f":"","pth":"/properties/properties/properties/networkAcls/properties/virtualNetworkRules/items/properties/ignoreMissingVnetServiceEndpoint"},{"ov":null,"v":{"desc":"List of private endpoint connections associated with the key vault.","items":{"desc":"Private endpoint connection item.","prop":{"etag":{"desc":"Modified whenever there is a change in the state of private endpoint connection.","type":"string"},"id":{"desc":"Id of private endpoint connection.","type":"string"},"prop":{"desc":"Properties of the private endpoint connection resource.","prop":{"privateEndpoint":{"desc":"Private endpoint object properties.","prop":{"id":{"desc":"Full identifier of the private endpoint resource.","readOnly":true,"type":"string"}}},"privateLinkServiceConnectionState":{"desc":"An object that represents the approval state of the private link connection.","prop":{"actionsRequired":{"desc":"A message indicating if changes on the service provider require any updates on the consumer.","enum":["None"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"ActionsRequired"}},"desc":{"desc":"The reason for approval or rejection.","type":"string"},"status":{"desc":"The private endpoint connection status.","enum":["Pending","Approved","Rejected","Disconnected"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"PrivateEndpointServiceConnectionStatus"}}}},"provisioningState":{"desc":"The current provisioning state.","enum":["Succeeded","Creating","Updating","Deleting","Failed","Disconnected"],"readOnly":true,"type":"string","x-ms-enum":{"modelAsString":true,"name":"PrivateEndpointConnectionProvisioningState"}}}}}},"readOnly":true,"type":"array"},"o":"add","f":"","pth":"/properties/properties/properties/privateEndpointConnections"},{"ov":null,"v":{"desc":"Provisioning state of the vault.","enum":["Succeeded","RegisteringDns"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"VaultProvisioningState"}},"o":"add","f":"","pth":"/properties/properties/properties/provisioningState"},{"ov":null,"v":{"default":90,"desc":"softDelete data retention days. It accepts >=7 and <=90.","format":"int32","type":"integer"},"o":"add","f":"","pth":"/properties/properties/properties/softDeleteRetentionInDays"},{"ov":null,"v":{"desc":"Metadata pertaining to creation and last modification of key vault resource.","prop":{"createdAt":{"desc":"The timestamp of key vault resource creation (UTC).","format":"date-time","type":"string"},"createdBy":{"desc":"The identity that created key vault resource.","type":"string"},"createdByType":{"desc":"The type of identity.","enum":["User","Application","ManagedIdentity","Key"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"identityType"}},"lastModifiedAt":{"desc":"The timestamp of key vault resource last modification (UTC).","format":"date-time","type":"string"},"lastModifiedBy":{"desc":"The identity that last modified key vault resource.","type":"string"},"lastModifiedByType":{"desc":"The type of identity.","enum":["User","Application","ManagedIdentity","Key"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"identityType"}}},"readOnly":true,"type":"object"},"o":"add","f":"","pth":"/properties/systemData"},{"ov":null,"v":{"additionalProperties":{"type":"string"},"desc":"Tags assigned to the key vault resource.","type":"object"},"o":"add","f":"","pth":"/properties/tags"},{"ov":null,"v":{"desc":"Resource type of the key vault resource.","readOnly":true,"type":"string"},"o":"add","f":"","pth":"/properties/type"},{"ov":null,"v":true,"o":"add","f":"","pth":"/x-ms-azure-resource"}]}}},"201":{"ext":{"m":{"sch":[{"ov":[{"desc":"Key Vault resource","prop":{"id":{"desc":"The Azure Resource Manager resource ID for the key vault.","readOnly":true,"type":"string"},"location":{"desc":"The supported Azure location where the key vault should be created.","type":"string"},"name":{"desc":"The name of the key vault.","readOnly":true,"type":"string"},"t":{"additionalProperties":{"type":"string"},"desc":"The tags that will be assigned to the key vault. ","type":"object"},"type":{"desc":"The resource type of the key vault.","readOnly":true,"type":"string"}},"required":["location"],"x-ms-azure-resource":true}],"v":null,"o":"remove","f":"","pth":"/allOf"},{"ov":null,"v":{"desc":"Fully qualified identifier of the key vault resource.","readOnly":true,"type":"string"},"o":"add","f":"","pth":"/properties/id"},{"ov":null,"v":{"desc":"Azure location of the key vault resource.","type":"string"},"o":"add","f":"","pth":"/properties/location"},{"ov":null,"v":{"desc":"Name of the key vault resource.","readOnly":true,"type":"string"},"o":"add","f":"","pth":"/properties/name"},{"ov":"An array of 0 to 1024 identities that have access to the key vault. All identities in the array must use the same tenant ID as the key vault's tenant ID.","v":"An array of 0 to 1024 identities that have access to the key vault. All identities in the array must use the same tenant ID as the key vault's tenant ID. When `createMode` is set to `recover`, access policies are not required. Otherwise, access policies are required.","o":"replace","f":"","pth":"/properties/properties/properties/accessPolicies/description"},{"ov":null,"v":{"default":false,"desc":"Property that controls how data actions are authorized. When true, the key vault will use Role Based Access Control (RBAC) for authorization of data actions, and the access policies specified in vault properties will be  ignored. When false, the key vault will use the access policies specified in vault properties, and any policy stored on Azure Resource Manager will be ignored. If null or not specified, the vault is created with the default value of false. Note that management actions are always authorized with RBAC.","type":"boolean"},"o":"add","f":"","pth":"/properties/properties/properties/enableRbacAuthorization"},{"ov":null,"v":true,"o":"add","f":"","pth":"/properties/properties/properties/enableSoftDelete/default"},{"ov":"Property to specify whether the 'soft delete' functionality is enabled for this key vault. It does not accept false value.","v":"Property to specify whether the 'soft delete' functionality is enabled for this key vault. If it's not set to any value(true or false) when creating new key vault, it will be set to true by default. Once set to true, it cannot be reverted to false.","o":"replace","f":"","pth":"/properties/properties/properties/enableSoftDelete/description"},{"ov":null,"v":{"desc":"Property to specify whether NRP will ignore the check if parent subnet has serviceEndpoints configured.","type":"boolean"},"o":"add","f":"","pth":"/properties/properties/properties/networkAcls/properties/virtualNetworkRules/items/properties/ignoreMissingVnetServiceEndpoint"},{"ov":null,"v":{"desc":"List of private endpoint connections associated with the key vault.","items":{"desc":"Private endpoint connection item.","prop":{"etag":{"desc":"Modified whenever there is a change in the state of private endpoint connection.","type":"string"},"id":{"desc":"Id of private endpoint connection.","type":"string"},"prop":{"desc":"Properties of the private endpoint connection resource.","prop":{"privateEndpoint":{"desc":"Private endpoint object properties.","prop":{"id":{"desc":"Full identifier of the private endpoint resource.","readOnly":true,"type":"string"}}},"privateLinkServiceConnectionState":{"desc":"An object that represents the approval state of the private link connection.","prop":{"actionsRequired":{"desc":"A message indicating if changes on the service provider require any updates on the consumer.","enum":["None"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"ActionsRequired"}},"desc":{"desc":"The reason for approval or rejection.","type":"string"},"status":{"desc":"The private endpoint connection status.","enum":["Pending","Approved","Rejected","Disconnected"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"PrivateEndpointServiceConnectionStatus"}}}},"provisioningState":{"desc":"The current provisioning state.","enum":["Succeeded","Creating","Updating","Deleting","Failed","Disconnected"],"readOnly":true,"type":"string","x-ms-enum":{"modelAsString":true,"name":"PrivateEndpointConnectionProvisioningState"}}}}}},"readOnly":true,"type":"array"},"o":"add","f":"","pth":"/properties/properties/properties/privateEndpointConnections"},{"ov":null,"v":{"desc":"Provisioning state of the vault.","enum":["Succeeded","RegisteringDns"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"VaultProvisioningState"}},"o":"add","f":"","pth":"/properties/properties/properties/provisioningState"},{"ov":null,"v":{"default":90,"desc":"softDelete data retention days. It accepts >=7 and <=90.","format":"int32","type":"integer"},"o":"add","f":"","pth":"/properties/properties/properties/softDeleteRetentionInDays"},{"ov":null,"v":{"desc":"Metadata pertaining to creation and last modification of key vault resource.","prop":{"createdAt":{"desc":"The timestamp of key vault resource creation (UTC).","format":"date-time","type":"string"},"createdBy":{"desc":"The identity that created key vault resource.","type":"string"},"createdByType":{"desc":"The type of identity.","enum":["User","Application","ManagedIdentity","Key"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"identityType"}},"lastModifiedAt":{"desc":"The timestamp of key vault resource last modification (UTC).","format":"date-time","type":"string"},"lastModifiedBy":{"desc":"The identity that last modified key vault resource.","type":"string"},"lastModifiedByType":{"desc":"The type of identity.","enum":["User","Application","ManagedIdentity","Key"],"type":"string","x-ms-enum":{"modelAsString":true,"name":"identityType"}}},"readOnly":true,"type":"object"},"o":"add","f":"","pth":"/properties/systemData"},{"ov":null,"v":{"additionalProperties":{"type":"string"},"desc":"Tags assigned to the key vault resource.","type":"object"},"o":"add","f":"","pth":"/properties/tags"},{"ov":null,"v":{"desc":"Resource type of the key vault resource.","readOnly":true,"type":"string"},"o":"add","f":"","pth":"/properties/type"},{"ov":null,"v":true,"o":"add","f":"","pth":"/x-ms-azure-resource"}]}}}}}}}}}}}}